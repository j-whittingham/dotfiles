#!/bin/sh
# dmenu initialize dconf list
# update in apt to ensure list is always current

exclude='\.azureus|backups|\.bundler|\.cache|cairo|chromium|depot|\.deprecated|\.dropbox|geany|\.gem|\.ghc|\.gimp|google|\.kde|libreoffice|\.mozilla|\.opera|\.original|sandbox|\.save|(s|u)mplayer|tint2|Trash|\.vim|vundle|\.xbmc|\.xmonad|xfce4'

# convert spaces in filenames to tilde, only to convert back after joining!
echo $(sudo find /etc -maxdepth 1 -type f | egrep -v "\.original") \
$(sudo find /etc -type f -regex '.*cfg' | sed 's/ /~/g') \
$(sudo find /etc -type f -regex '.*conf\(ig\)*' | egrep -v 'asciidoc|bluetooth|dbus-1|fonts|ghostscript|sane\.d' | sed 's/ /~/g') \
$(sudo find /etc -type f -regex '.*/conf\(ig\)*.*' | egrep -v 'exim4|fonts' | sed 's/ /~/g') \
$(sudo find /etc -type f -regex '.*ini' | sed 's/ /~/g') \
$(sudo find /etc -type f -regex '.*rc' | egrep -v 'Muttrc' | sed 's/ /~/g') \
$(sudo find /opt -type f -regex '.*conf\(ig\)*' | egrep -v '\.git' | sed 's/ /~/g') \
$(sudo find /opt -type f -regex '.*ini' | sed 's/ /~/g') \
$(sudo find /usr/lib/systemd/system/ -type f) \
$(sudo find /var/adsuck -type f | sed 's/ /~/g') \
$(find ~ -type f -regex '.*cfg' | egrep -v "$exclude" | sed 's/ /~/g') \
$(find ~ -type f -regex '.*conf\(ig\)*' | egrep -v "$exclude" | sed 's/ /~/g') \
$(find ~ -type f -regex '.*/conf\(ig\)*.*' | egrep -v "$exclude" | sed 's/ /~/g') \
$(find ~ -type f -regex '.*ini' | egrep -v "$exclude" | sed 's/ /~/g') \
$(find ~ -type f -regex '.*rc' | egrep -v "$exclude" | sed 's/ /~/g') \
| sed 's/ /\n/g' | sed 's/~/ /g' | sort | uniq > ~/.dcache
