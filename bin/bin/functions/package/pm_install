#!/usr/bin/dash
# sdothum - 2016 (c) wtfpl

# Package
# ▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂

# ${COLORS} defined in env

# ......................................................... Distribution install

# Usage: pm_install [--confirm | S] <package>

[ "$1" = S ] && { shift ; confirm=true ;}

heading : $@

if ! pm_query $@ ;then
  pre_install $@
  if pacman -Ss $@ | grep -q --regex="/$@ " ;then
    [ $confirm ] && sudo pacman -S $@ || sudo pacman -S --noconfirm $@
  else
    echo "${__GREEN}@ aur${NOCOLOR}"
    [ $confirm ] && yay -S --noanswerclean --noanswerdiff --noansweredit --noanswerupgrade $@ || 
                    yay -S --answerclean=N --answerdiff=N --answeredit=N --answerupgrade=N $@
  fi
  post_install $@
fi

unset confirm

# vim: set ft=sh: #
